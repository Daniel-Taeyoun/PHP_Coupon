# Comento_Coupon
-----------------------------------
**<과제 제출현황>**

1. 사전준비 ==> [완료]
    1. 회원 테이블을 생성하고 4명의 유저를 생성해 주세요.
    2. 그 중에 하나는 admin 계정입니다.

2. 로그인 페이지 ==> [완료]
    1. 로그인 페이지에서 id, password를 입력해서 로그인을 성공하면 페이지가 이동됩니다.
        1. admin 계정은 '쿠폰 코드 발행 페이지' 로 이동합니다.
        2. 그 외의 계정은 '쿠폰 코드 사용 페이지' 로 이동합니다.

3. 쿠폰 코드 발행 페이지 ==> [완료]
    1. 쿠폰 코드는 모두 unique이며,문자+숫자 조합이고 형식은 16자리 입니다. (---)
    2. prefix 3자리를 입력 받아, 모든 쿠폰 코드의 맨 앞 3자리를 고정으로 생성 해주세요.
    3. 쿠폰 생성 시 한번에 10만 건이 생성 되며 생성된 쿠폰은 같은 성격이 됩니다.
        1. 예를 들어, 처음에 생성된 쿠폰은 A Group, 다음에 생성된 쿠폰은 B Group 입니다.
    4. 쿠폰 생성 중 랜덤으로 임의의 쿠폰에는 랜덤 한 유저가 사용한 걸로 해주세요.      -------> 이 부분 미완료
    5. 쿠폰 코드 발행 페이지는 admin 계정이 아니면 접근할 수 없는 페이지입니다.
    6. 쿠폰 생성 로직은 직접 작성해주세요.

4. 쿠폰 코드 리스트 페이지 ==> [완료]
    1. 쿠폰 코드를 100개씩, 페이징처리
    2. 그룹별 검색 가능
    3. 코드와 코드 사용일시, 코드 사용 유저 출력.
    4. admin 계정만 접근.
    
5. 쿠폰 코드 사용 페이지 ==> [미완료]
    1. 각 쿠폰 번호를 입력 하였을 때, 사용 가능 한지, 불가능 한지 체크해 주세요.

6. 쿠폰 코드 통계 페이지 ==> [미완료]
    1. 각 쿠폰 그룹별로 유저들이 각각 얼만큼 사용했는지 통계를 볼 수 있는 페이지를 만들어 주세요.
    
----------------------------------------------------------------------

**0. 테스트 사이트**
 - http://34.219.132.193/Comento/Login.html



**1. 사용자 정보**
 - ID : admin, user1, user2, user3
 - PW : 1234
 

**2. 데이터베이스 스키마 자료**
==> 데이터베이스는 아래와 같이 3가지만 만들 계획이었습니다.

 a) 'UserInfo' 테이블 정보
 
 
<img width="397" alt="userinfo" src="https://user-images.githubusercontent.com/30804139/49858869-6c65c500-fe39-11e8-9292-8d2730facb21.png">
 
 



 b) 'GroupName' 테이블 정보 (쿠폰 그룹명 나눈 것을 관리하기 위한 테이블)
 
 
<img width="488" alt="groupname" src="https://user-images.githubusercontent.com/30804139/49858947-a33bdb00-fe39-11e8-86f7-32a5d6b4039a.png">

 
 
 c) 쿠폰그룹명(ex.Group_'prefix') 테이블 정보
 
 
 <img width="471" alt="default" src="https://user-images.githubusercontent.com/30804139/49859043-eb5afd80-fe39-11e8-8b8e-9e8113fd7f67.png">







**3. 개발 추가 고려사항 (' 5. 쿠폰 코드 사용페이지 ' 설계 방향)**

[쿠폰 코드 사용페이지]  
1. 쿠폰을 검색할 수 있는 화면이 보인다.  
 	- 쿠폰 검색을 할 수 있는 텍스트 창  
 	- 검색 이벤트를 실행할 수 있는 ' 검색 ' 이벤트 버튼  
2. 사용자가 쿠폰을 번호를 입력한다.  
3. 검색 버튼을 누른다.  
 	a) ' **** - **** - **** - **** ' 형식이 같은지 확인한다.  
 	b) 첫번째 4자리중 앞에 3자리(admin이 prefix로 지정한 번호)를 추출한다  
 	    - why? 어떤 테이블에서 검색하기 위한 것인지 알기 위해  
 	    - 해당 3자리 넘버를 ' $tb_name '이라고 한다.  
 	c) 해당 테이블에서 코드번호를 검색한다.  
 	    - ex) " SELECT who_used FROM Group_". $tb_name . " WHERE code_num = ' ". user가 입력한 16자리 코드번호 . " ' ";  
4. 사용 가능 여부에 대해 확인시켜준다.  
 	a) sql 명령어 결과가 null일 경우 사용할 수 있다.  
 	b) sql 명령어 결과가 null일 경우 사용할 수 없다.  
